---
name: make-node-list
description: 拆解主题为细粒度节点列表。将用户输入的主题/概念/脑图/知识树拆解成相对独立的、可并行处理的节点列表。适用于文档写作、教程制作、调研报告等需要结构化分解的场景。当用户需要：1) 将大主题拆解为小节；2) 将知识树转化为任务列表；3) 组织脑图节点为可执行格式时使用。
---

# Make Node List

## Overview

将复杂的主题、概念、脑图或知识树拆解为细粒度、相对独立的节点列表，每个节点作为后续并行处理的基本单元。输出`node-list.txt`文件，每行一个节点内容。

## Workflow

### 1. 理解输入

分析用户提供的内容类型：
- **主题关键词**：如"机器学习基础"、"区块链技术"
- **知识树/脑图**：层次化的概念结构
- **大纲框架**：已有的章节结构

### 2. 粒度控制

**目标粒度**：每个节点应满足：
- 可独立完成（50-500字内容）
- 含义明确、边界清晰
- 避免过于宽泛（如"第一章"）
- 避免过于琐碎（如"每个字"）

**粒度示例**：
```
# 过粗
"机器学习"

# 过细
"机器学习的定义"
"机器学习的历史"
"机器学习的分类"

# 合适
"机器学习的定义与发展历程"
"监督学习的基本原理"
"非监督学习的常见算法"
```

### 3. 与用户沟通

当粒度不确定时，使用AskUserQuestion工具：
- 提供粒度选项供用户选择
- 展示部分拆解结果征求意见
- 询问是否需要调整详细程度

### 4. 输出格式

创建`node-list.txt`文件：
```
节点1内容
节点2内容
节点3内容
...
```

**命名规范**：
- 使用简洁明确的中文描述
- 避免特殊字符（除标点外）
- 保持同一层级的一致性
- 预留编号空间（便于后续扩展）

## Examples

### 示例1：主题拆解

**用户输入**："写一篇关于Docker的技术教程"

**拆解结果** (`node-list.txt`)：
```
Docker简介与传统虚拟化对比
Docker核心概念：容器与镜像
Docker安装与环境配置
Docker常用命令详解
Dockerfile编写指南
Docker网络配置
Docker数据卷管理
Docker Compose使用
Docker实战：部署Web应用
Docker最佳实践与常见问题
```

### 示例2：知识树转换

**用户输入**：
```
React学习路径
├── 基础
│   ├── JSX语法
│   ├── 组件与Props
│   └── State与生命周期
├── 进阶
│   ├── Hooks
│   ├── Context API
│   └── 性能优化
└── 实战
        └── 项目构建
```

**拆解结果** (`node-list.txt`)：
```
React简介与环境搭建
JSX语法基础与最佳实践
组件定义与Props传递
State状态管理详解
组件生命周期方法
React Hooks入门：useState与useEffect
自定义Hooks开发
Context API状态共享方案
React性能优化技巧
React项目实战：构建完整应用
```

### 示例3：研究论文结构

**用户输入**："撰写关于大语言模型幻觉问题的调研论文"

**拆解结果** (`node-list.txt`)：
```
摘要与引言
大语言模型幻觉问题定义
幻觉问题的分类与表现
幻觉产生的内在机制分析
现有缓解方法综述
基于检索增强的解决方案
基于提示工程的方法
基于后处理的技术手段
实验对比与评估指标
未来研究方向与挑战
参考文献
```

## Scripts

### `scripts/generate_node_list.py`

辅助脚本，用于从结构化输入（如JSON格式的脑图、Markdown大纲）自动生成节点列表。

**使用场景**：
- 用户提供了结构化的知识树
- 需要批量处理多个主题
- 需要验证节点列表格式

## Troubleshooting

| 问题 | 解决方案 |
|------|----------|
| 粒度过粗导致节点过大 | 询问用户期望的每节点字数，重新拆分 |
| 粒度过细导致节点过多 | 合并相关节点，删除冗余项 |
| 节点之间逻辑不清 | 重新梳理知识结构，调整层次 |
| 用户对拆解结果不满意 | 展示部分结果，获取反馈后调整 |
