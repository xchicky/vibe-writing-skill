---
name: make-node-list
description: 拆解主题为细粒度节点列表。将用户输入的主题/概念/脑图/知识树拆解成相对独立的、可并行处理的节点列表。适用于文档写作、教程制作、调研报告等需要结构化分解的场景。当用户需要：1) 将大主题拆解为小节；2) 将知识树转化为任务列表；3) 组织脑图节点为可执行格式时使用。
---

# Make Node List

## Overview

将复杂的主题、概念、脑图或知识树拆解为细粒度、相对独立的节点列表，每个节点作为后续并行处理的基本单元。输出`node-list.txt`文件，每行一个节点内容。

## Workflow

### 1. 收集用户意图

首先使用AskUserQuestion工具询问用户的写作意图：

```
问题：你打算写作什么类型的文档？
选项：
- 博客文章：轻量级、通俗易读、3000-8000字
- 教程指南：系统化、带实践、8000-15000字
- 调研论文：学术性、严谨、10000-20000字
- 其他：自定义类型
```

### 2. 确定节点数量

根据用户意图，询问期望的节点数量：

```
问题：你希望将主题拆解为多少个节点？
选项：
- 5个左右：适合快速概述、短篇博客
- 10个左右：适合标准教程、中等篇幅
- 15个左右：适合详细教程、长篇博客
- 20个左右：适合系统教程、完整论文
- agent自己决定：根据主题复杂度智能判断
- 其他：自定义数量
```

### 3. 理解输入并拆解

分析用户提供的内容类型：
- **主题关键词**：如"机器学习基础"、"区块链技术"
- **知识树/脑图**：层次化的概念结构
- **大纲框架**：已有的章节结构

根据用户意图和节点数量进行智能拆解：

**博客文章**（5-10个节点）：
- 侧重流畅阅读、吸引读者
- 节点偏大，每节500-1000字
- 结构：引言→核心内容→实践案例→总结

**教程指南**（10-15个节点）：
- 侧重系统学习、循序渐进
- 节点适中，每节800-1200字
- 结构：概述→基础→进阶→实战→总结

**调研论文**（15-20个节点）：
- 侧重深度分析、学术严谨
- 节点较细，每节600-1000字
- 结构：摘要→引言→文献综述→方法→实验→结论→参考文献

### 4. 输出结果预览

生成节点列表后，展示给用户确认：

```
已生成X个节点：
1. 节点名称1
2. 节点名称2
...

是否需要调整？
```

### 4. 输出格式

创建`node-list.txt`文件：
```
节点1内容
节点2内容
节点3内容
...
```

**命名规范**：
- 使用简洁明确的中文描述
- 避免特殊字符（除标点外）
- 保持同一层级的一致性
- 预留编号空间（便于后续扩展）

## Examples

### 示例1：博客文章（5个节点）

**用户输入**："写一篇关于Docker的博客文章"
**用户选择**：博客文章，5个节点左右

**拆解结果** (`node-list.txt`)：
```
Docker是什么：从虚拟化到容器化的演进
Docker核心概念：镜像、容器与仓库
30分钟上手Docker：从安装到第一个容器
Docker实战：用容器部署一个Web应用
Docker最佳实践：生产环境的容器化建议
```

### 示例2：技术教程（10个节点）

**用户输入**："写一篇关于Docker的技术教程"
**用户选择**：教程指南，10个节点左右

**拆解结果** (`node-list.txt`)：
```
Docker简介与传统虚拟化对比
Docker核心概念：容器与镜像
Docker安装与环境配置
Docker常用命令详解
Dockerfile编写指南
Docker网络配置
Docker数据卷管理
Docker Compose使用
Docker实战：部署Web应用
Docker最佳实践与常见问题
```

### 示例2：知识树转换

**用户输入**：
```
React学习路径
├── 基础
│   ├── JSX语法
│   ├── 组件与Props
│   └── State与生命周期
├── 进阶
│   ├── Hooks
│   ├── Context API
│   └── 性能优化
└── 实战
        └── 项目构建
```

**拆解结果** (`node-list.txt`)：
```
React简介与环境搭建
JSX语法基础与最佳实践
组件定义与Props传递
State状态管理详解
组件生命周期方法
React Hooks入门：useState与useEffect
自定义Hooks开发
Context API状态共享方案
React性能优化技巧
React项目实战：构建完整应用
```

### 示例3：调研论文（18个节点）

**用户输入**："撰写关于大语言模型幻觉问题的调研论文"
**用户选择**：调研论文，18个节点左右

**拆解结果** (`node-list.txt`)：
```
摘要与引言
大语言模型幻觉问题定义
幻觉问题的分类与表现形式
基于数据类型的幻觉分类
幻觉产生的内在机制分析
训练数据对幻觉的影响
模型架构与幻觉的关系
现有缓解方法综述
基于检索增强的RAG方法
基于提示工程的缓解技术
基于后处理的检测与修正
多模态大模型的幻觉问题
幻觉检测与评估指标
实验对比与基准测试
不同模型的幻觉表现对比
未来研究方向与挑战
开放性问题的讨论
参考文献与补充材料
```

## Scripts

### `scripts/generate_node_list.py`

辅助脚本，用于从结构化输入（如JSON格式的脑图、Markdown大纲）自动生成节点列表。

**使用场景**：
- 用户提供了结构化的知识树
- 需要批量处理多个主题
- 需要验证节点列表格式

## Troubleshooting

| 问题 | 解决方案 |
|------|----------|
| 用户不确定文档类型 | 展示各类型特点，推荐最合适的选项 |
| 节点数量与内容不匹配 | 根据主题复杂度调整，建议增加或减少 |
| 粒度过粗导致节点过大 | 询问用户期望的每节点字数，重新拆分 |
| 粒度过细导致节点过多 | 合并相关节点，删除冗余项 |
| 节点之间逻辑不清 | 重新梳理知识结构，调整层次 |
| 用户对拆解结果不满意 | 展示部分结果，获取反馈后调整 |

## 文档类型参考

| 类型 | 节点数 | 总字数 | 每节点字数 | 特点 |
|------|--------|--------|------------|------|
| 博客文章 | 5-10 | 3k-8k | 500-1000 | 轻量、通俗、吸引读者 |
| 教程指南 | 10-15 | 8k-15k | 800-1200 | 系统、渐进、带实践 |
| 调研论文 | 15-20 | 10k-20k | 600-1000 | 严谨、深度、学术化 |
| 技术文档 | 8-12 | 5k-12k | 600-1000 | 精准、简洁、可操作 |
